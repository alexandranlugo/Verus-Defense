@tailwind base;
@tailwind components;
@tailwind utilities;

/* Enterprise-grade intelligence interface design system - Palantir Gotham style */

@layer base {
  :root {
    /* Deeper navy palette */
    --bg-0: 215 55% 5%;   /* #050c1a  page bg (very dark) */
    --bg-1: 215 50% 8%;   /* #071427  panel bg */
    --bg-2: 215 42% 12%;  /* #0c1d33  headers/toolbars */

    /* Lines slightly brighter for contrast on the darker bg */
    --line-1: 215 32% 30%; /* #3b5076 */
    --line-2: 215 28% 38%; /* #4b6696 */

    /* Text: tiny lift to keep AA contrast on darker bg */
    --text-1: 215 24% 90%; /* #e0e6f1 */
    --text-2: 215 20% 72%; /* #a1b1c9 */

    /* Keep your accents */
    --accent: 190 100% 77%;
    --ok: 130 100% 80%;
    --warn: 45 100% 70%;
    --alert: 0 100% 70%;

    /* Semantic mappings for shadcn compatibility */
    --background: var(--bg-0);
    --foreground: var(--text-1);

    --card: var(--bg-1);
    --card-foreground: var(--text-1);

    --popover: var(--bg-1);
    --popover-foreground: var(--text-1);

    --primary: var(--text-1);
    --primary-foreground: var(--bg-0);

    --secondary: var(--bg-2);
    --secondary-foreground: var(--text-1);

    --muted: var(--bg-2);
    --muted-foreground: var(--text-2);

    --accent-semantic: var(--bg-2);
    --accent-foreground: var(--text-1);

    --destructive: var(--alert);
    --destructive-foreground: var(--bg-0);

    --warning: var(--warn);
    --warning-foreground: var(--bg-0);

    --success: var(--ok);
    --success-foreground: var(--bg-0);

    --border: var(--line-1);
    --input: var(--bg-1);
    --ring: var(--accent);

    /* Sharp, angular design - no rounded corners */
    --radius: 0;

    /* Intelligence-specific colors using new tokens */
    --threat-high: var(--alert);
    --threat-medium: var(--warn);
    --threat-low: var(--ok);
    --classified: var(--text-2);
    --secret: var(--text-2);
    --top-secret: var(--text-2);

    /* Terminal/console colors */
    --terminal-green: var(--ok);
    --terminal-amber: var(--warn);
    --scanner-blue: var(--accent);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground font-sans;
    background: linear-gradient(180deg, hsl(var(--bg-0)), hsl(var(--bg-1)));
    min-height: 100vh;
  }
}

@layer components {
  /* Enterprise panel styling */
  .gotham-panel {
    @apply bg-card border border-border;
    box-shadow: inset 0 0 0 1px hsl(var(--line-2));
    border-radius: 0;
  }

  /* Ghost button styling */
  .gotham-button {
    @apply border border-border bg-transparent text-foreground;
    border-radius: 0;
    transition: all 150ms ease;
  }
  
  .gotham-button:hover {
    @apply border-accent text-accent;
    box-shadow: 0 0 0 2px hsl(var(--accent) / 0.15);
  }

  .gotham-ghost-link {
    @apply flex items-center gap-2 text-foreground hover:text-accent transition-colors;
  }

  .gotham-ghost-icon {
    @apply text-foreground hover:text-accent transition-colors;
  }

 /* Satellite photo + vignette/tuning */
.map-canvas{
  position: relative;
  background-image:
    radial-gradient(120% 100% at 50% 0%, rgba(0,0,0,.35) 0%, rgba(0,0,0,.55) 60%, rgba(0,0,0,.7) 100%),
    url("/images/iranian-nuclear-site.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  filter: saturate(.75) brightness(.9) contrast(1.1);
}

/* Grid overlay as a pseudo-element so it stacks above the image */
.map-grid-overlay{ position: relative; }
.map-grid-overlay::before{
  content:"";
  position:absolute; inset:0; pointer-events:none;
  background-image:
    repeating-linear-gradient(0deg,  rgba(255,255,255,.04) 0px, rgba(255,255,255,.04) 1px, transparent 1px, transparent 32px),
    repeating-linear-gradient(90deg, rgba(255,255,255,.04) 0px, rgba(255,255,255,.04) 1px, transparent 1px, transparent 32px);
}

/* Optional subtle bottom vignette/grain for SCIF look */
.map-canvas::after{
  content:"";
  position:absolute; inset:0; pointer-events:none;
  background: radial-gradient(120% 100% at 50% 100%, rgba(0,0,0,.45), transparent 40%);
}


  /* Intelligence tag pills */
  .intelligence-tag {
    @apply border border-border bg-muted text-foreground;
    border-radius: 0;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .intelligence-tag.selected {
    background: linear-gradient(180deg, hsl(var(--bg-2)), hsl(var(--bg-1)));
    border-left: 2px solid hsl(var(--accent));
  }

  /* Analysis feed items */
  .feed-item {
    @apply border-b border-border bg-card;
    border-radius: 0;
  }

  .feed-item-severity-low { border-left: 3px solid hsl(var(--ok)); }
  .feed-item-severity-medium { border-left: 3px solid hsl(var(--warn)); }
  .feed-item-severity-high { border-left: 3px solid hsl(var(--alert)); }
  .feed-item-severity-critical { border-left: 3px solid hsl(var(--alert)); }

  /* Classification badge with hatch pattern */
  .classification-badge {
    @apply bg-secondary border border-border text-foreground;
    border-radius: 0;
    text-transform: uppercase;
    font-family: 'Roboto Mono', monospace;
    font-size: 12px;
    letter-spacing: 1px;
  }

  .classification-badge.secret::before,
  .classification-badge.top-secret::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: repeating-linear-gradient(
      45deg,
      transparent 0px,
      transparent 2px,
      rgba(255,255,255,0.05) 2px,
      rgba(255,255,255,0.05) 4px
    );
    pointer-events: none;
  }

  /* Typography scales */
  .text-label { font-size: 12px; }
  .text-feed { font-size: 13px; }
  .text-body { font-size: 16px; }
  .text-section { font-size: 18px; letter-spacing: 0.5px; }

  /* Mono text for coordinates and technical data */
  .text-mono {
    font-family: 'Roboto Mono', monospace;
    font-size: 12px;
    letter-spacing: 0.5px;
  }

  /* Line clamp fallback for older browsers */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
